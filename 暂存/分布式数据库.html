<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.0.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"qingjiu.life",root:"/",scheme:"Gemini",version:"7.8.0",exturl:!1,sidebar:{position:"right",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:"mac"},back2top:{enable:!0,sidebar:!0,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!1,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"search.xml"}</script><meta name="description" content="数据库发展历史从两个大类来看， 传统关系型数据库：Oracle、DB2、MySQL 非关系型数据库：key-value数据库（redis）、列式数据库（Hbase）、文档型数据库（MongoDB）、图数据库（InfoGrid）、分布式数据库 什么是分布式数据库逻辑上整体，物理上分散存储 类别1：数据库中间件+开源数据库  什么是数据库中间件？ 在应用与数据库之间加一个数据库中间件进行路由，解决业务"><meta property="og:type" content="article"><meta property="og:title" content="青酒的代码馆"><meta property="og:url" content="https://qingjiu.life/%E6%9A%82%E5%AD%98/%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93.html"><meta property="og:site_name" content="青酒的代码馆"><meta property="og:description" content="数据库发展历史从两个大类来看， 传统关系型数据库：Oracle、DB2、MySQL 非关系型数据库：key-value数据库（redis）、列式数据库（Hbase）、文档型数据库（MongoDB）、图数据库（InfoGrid）、分布式数据库 什么是分布式数据库逻辑上整体，物理上分散存储 类别1：数据库中间件+开源数据库  什么是数据库中间件？ 在应用与数据库之间加一个数据库中间件进行路由，解决业务"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2022-03-14T00:47:52.457Z"><meta property="article:modified_time" content="2022-01-07T02:46:42.452Z"><meta property="article:author" content="青酒"><meta property="article:tag" content="Java"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://qingjiu.life/%E6%9A%82%E5%AD%98/%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93.html"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-CN"}</script><title>| 青酒的代码馆</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">青酒的代码馆</h1><span class="logo-line-after"><i></i></span></a><p class="site-subtitle" itemprop="description">浩瀚书海是我的归宿</p></div><div class="site-nav-right"><div class="toggle popup-trigger"></div></div></div><nav class="site-nav"><ul id="menu" class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">7</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">0</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">27</span></a></li></ul></nav></div></header><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content post posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://qingjiu.life/%E6%9A%82%E5%AD%98/%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.png"><meta itemprop="name" content="青酒"><meta itemprop="description" content=""></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="青酒的代码馆"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"></h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2022-03-14 08:47:52" itemprop="dateCreated datePublished" datetime="2022-03-14T08:47:52+08:00">2022-03-14</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2022-01-07 10:46:42" itemprop="dateModified" datetime="2022-01-07T10:46:42+08:00">2022-01-07</time> </span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span id="busuanzi_value_page_pv"></span></span></div></header><div class="post-body" itemprop="articleBody"><h3 id="数据库发展历史"><a href="#数据库发展历史" class="headerlink" title="数据库发展历史"></a>数据库发展历史</h3><p>从两个大类来看，</p><p><strong>传统关系型数据库</strong>：Oracle、DB2、MySQL</p><p><strong>非关系型数据库</strong>：key-value数据库（redis）、列式数据库（Hbase）、文档型数据库（MongoDB）、图数据库（InfoGrid）、分布式数据库</p><h3 id="什么是分布式数据库"><a href="#什么是分布式数据库" class="headerlink" title="什么是分布式数据库"></a>什么是分布式数据库</h3><p><strong>逻辑上整体，物理上分散存储</strong></p><p>类别1：数据库中间件+开源数据库</p><blockquote><p>什么是数据库中间件？</p><p>在应用与数据库之间加一个数据库中间件进行路由，解决业务剧烈增长引起的一些性能问题（如：单个表数据量太大、单个库数据量太大、单台数据量服务器压力很大、读写速度遇到瓶颈）。</p></blockquote><p>类别2：天然分布式数据库</p><h3 id="分库分表"><a href="#分库分表" class="headerlink" title="分库分表"></a>分库分表</h3><p><strong>数据分片</strong></p><p>垂直（纵深）分片</p><blockquote><p>按照不同的表（或者schema）切分到不同的数据库（主机）上</p></blockquote><p>水平（横向）分片</p><blockquote><p>将同一个表中的数据按照某种规则拆分到多台数据库（主机）上</p></blockquote><h3 id="Mycat-简介"><a href="#Mycat-简介" class="headerlink" title="Mycat-简介"></a>Mycat-简介</h3><p>基于阿里开源的Cobar（被淘汰下来的一个产品）而发展起来的数据库中间件</p><p><strong>关键特性：</strong></p><ol><li><p>支持分库分表、读写分离</p></li><li><p>支持QSQL92标准，支持sum，count，max等常用的聚合函数</p></li><li><p>遵循MySQL原生协议，可以当成MySQL使用</p></li><li><p>支持全局序列号</p></li><li><p>后端JDBC方式支持Oracle、DB2、SQL Server、mongodb、MySQL等</p></li></ol><h3 id="Mycat-架构"><a href="#Mycat-架构" class="headerlink" title="Mycat-架构"></a>Mycat-架构</h3><ul><li><p>监控&amp;管理</p></li><li><p>MySQL Protocol通信层（NIO&#x2F;AIO）</p></li><li><p>应用层接口</p></li><li><p>【SQL解析组件、SQL优化组件、SQL路由组件】，【ORDER BY排序】，GROUP BY聚合】，【结果集合并】</p></li><li><p>SQL执行组件</p></li><li><p>数据库连接池</p></li><li><p>JDBC DRIVER（BIO）</p></li></ul><h3 id="Mycat-高可用"><a href="#Mycat-高可用" class="headerlink" title="Mycat-高可用"></a>Mycat-高可用</h3><p>名词：VIP（virtual ip）、keepalived（进行健康状态检查）、lvs</p><h3 id="ShardingSphere-JDBC"><a href="#ShardingSphere-JDBC" class="headerlink" title="ShardingSphere-JDBC"></a>ShardingSphere-JDBC</h3><p>采用在JDBC层扩展分库分表，支持读写分离。以jar形式提供服务的轻量型组件…</p><h3 id="ShardingSphere-Proxy"><a href="#ShardingSphere-Proxy" class="headerlink" title="ShardingSphere-Proxy"></a>ShardingSphere-Proxy</h3><p>支持XA强一致事务，同时也支持分布式事务API接口…</p><h3 id="分布式事务"><a href="#分布式事务" class="headerlink" title="分布式事务"></a>分布式事务</h3><p>就是一个数据库事务在多个数据库实例上面执行，并且多个实例上面都执行了写入(insert&#x2F;updata&#x2F;delete)操作</p><ul><li><p>两阶段提交算法：实现统一的数据库事务的ACID保障</p></li><li><p>XA：标准的两阶段提交协议</p></li><li><p>Prepare阶段：Coordinator给所有的Participant发送prepare请求，P…将Redo…</p></li><li><p>Commit阶段</p></li><li><p>TCC：柔性的分布式事务解决方案，可用于解决跨库操作的数据一致性问题；根据服务化的两阶段编程模型，可以分为：Try、Confirm、Cancel三个方法。 ©阿里巴巴-蚂蚁金服</p></li><li><p>TCC并发控制</p></li></ul><h3 id="TDSQL"><a href="#TDSQL" class="headerlink" title="TDSQL"></a>TDSQL</h3><p>是腾讯公司研发的基于mariaDB的分布式数据库。</p><p>架构：</p><p>​ 腾讯云网关、网络安全服务、SQL&#x2F;APL、数据传输工具</p><p>​ 分片（Sharding）</p><p>​ 节点组（SET）</p><p>​ 数据节点（DB）</p><p>​ SQL Engine（proxy）</p><p>​ 调度集群（TSchedule）、决策集群（TZooKeeper）</p><p>高度兼容MYSQL：</p><p>​ 关系型实例（noshard）：可以理解为MySQL&#x2F;MariaDB主从高可用架构的数据库</p><p>​ 分布式实例（shard）</p><p>高可用保障机制：</p><p>​ （内容缺失）</p><p>故障自动转移与恢复：</p><p>​ 1、主DB降级为从机</p><p>​ 2、参与选举的从机上报最新的binlog文件便宜</p><p>​ 3、scheduler收到binlog点后，选择出binlog最大的节点</p><p>​ 4、重建主备关系</p><p>​ 5、修改路由</p><p>​ 6、请求发给新的主机</p><p>弹性扩展</p><p>分布式实例扩容</p><p>读写分离</p><p>​ 1、代码添加注释&#x2F;<em>slave</em>&#x2F;</p><p>​ 2、添加只读账号</p><p>​ 3、只读节点（不参与高可用）</p><p>分布式事务</p><p>容灾（两地三中心）</p><h3 id="OceanBase"><a href="#OceanBase" class="headerlink" title="OceanBase"></a>OceanBase</h3><p>是蚂蚁金服自主研发的金融级分布式数据库，是一个个无共享的分布式数据库，可运行在普通PC服务器组成的集群之上，具备可扩展、高可用、高性能、低成本等特性。核心优势主要是持续可用及准内存数据库，底层实现了Paxos复制协议，可以容忍单IDC故障，另外，OceanBase还借鉴了内存数据库（redis）的高性能设计，性能更高。</p><p>架构：</p><p>​ 一般部署三个副本（Zone），每个副本由多台物理机器（OBServer）组成。每个Zone包含两种角色：总控服务以及分区服务。每个分区服务管理多个分区，结构上分为两层：SQL引擎以及存储引擎。</p><p>资源的逻辑表示：</p><p>​ （内容缺失）</p><p>数据分片：</p><p>​ 水平拆分方式：分库分表与分区（动词），二选一或者混合搭配</p><p>​ 分区（名词）是表的子集。分区表有多个分区，普通表只有一个分区。</p><p>​ 分区策略：HASH&#x2F;KEY&#x2F;RANGE&#x2F;LIST</p><p>​ 二级分区：hash-hash&#x2F;key-key&#x2F;range-rage&#x2F;hash-key&#x2F;hash-range</p><p>数据分布：</p><p>​ 分区是表的子集</p><p>​ 分区三副本：主副本，leader，提供读写；两个备副本，follower，不提供读写</p><p>​ 副本同步：基于paxos协议实现数据强一致</p><p>​ 每个副本都被分散在不同的节点上以保证高可用</p><p>存储引擎：</p><p>​ OceanBase将当前更新的动态数据存入内存，这部分数据被称为MemTable，存量的基线数据存放在磁盘，被称为SSTable。</p><p>其他关键知识点（内容缺失）：</p><p>每日合并</p><p>弹性扩展</p><p>读写分离</p><p>高可用机制</p><p>Paxos协议</p><p>宕机流程</p><p>容灾（两地三中心）</p><p>● 云平台</p></div><div class="reward-container"><div></div><button onclick='var qr=document.getElementById("qr");qr.style.display="none"===qr.style.display?"block":"none"'>打赏</button><div id="qr" style="display:none"><div style="display:inline-block"><img src="/images/wechatpay.png" alt="青酒 微信支付"><p>微信支付</p></div><div style="display:inline-block"><img src="/images/alipay.png" alt="青酒 支付宝"><p>支付宝</p></div></div></div><div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者： </strong>青酒</li><li class="post-copyright-link"><strong>本文链接：</strong> <a href="https://qingjiu.life/%E6%9A%82%E5%AD%98/%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93.html">https://qingjiu.life/暂存/分布式数据库.html</a></li><li class="post-copyright-license"><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-CN" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div><footer class="post-footer"><div class="post-widgets"><div class="wp_rating"><div id="wpac-rating"></div></div></div><div class="post-nav"><div class="post-nav-item"><a href="/%E6%9A%82%E5%AD%98/%E5%88%86%E5%B8%83%E5%BC%8F%E6%8A%80%E6%9C%AF%E6%9E%B6%E6%9E%84.html" rel="prev"><i class="fa fa-chevron-left"></i></a></div><div class="post-nav-item"><a href="/%E6%9A%82%E5%AD%98/%E5%88%86%E5%B8%83%E5%BC%8F%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%A1%86%E6%9E%B6.html" rel="next"><i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><script>window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8F%91%E5%B1%95%E5%8E%86%E5%8F%B2"><span class="nav-text">数据库发展历史</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-text">什么是分布式数据库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8"><span class="nav-text">分库分表</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Mycat-%E7%AE%80%E4%BB%8B"><span class="nav-text">Mycat-简介</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Mycat-%E6%9E%B6%E6%9E%84"><span class="nav-text">Mycat-架构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Mycat-%E9%AB%98%E5%8F%AF%E7%94%A8"><span class="nav-text">Mycat-高可用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ShardingSphere-JDBC"><span class="nav-text">ShardingSphere-JDBC</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ShardingSphere-Proxy"><span class="nav-text">ShardingSphere-Proxy</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1"><span class="nav-text">分布式事务</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TDSQL"><span class="nav-text">TDSQL</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#OceanBase"><span class="nav-text">OceanBase</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="青酒" src="/images/avatar.png"><p class="site-author-name" itemprop="name">青酒</p><div class="site-description" itemprop="description"></div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">27</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">7</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/codinglibrary" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;codinglibrary" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a> </span><span class="links-of-author-item"><a href="mailto:hobart_lh@163.com" title="E-Mail → mailto:hobart_lh@163.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a></span></div></div><div class="back-to-top motion-element"><i class="fa fa-arrow-up"></i> <span>0%</span></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2022</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">青酒</span></div><div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动</div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i> </span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span> </span></span><span class="post-meta-divider">|</span> <span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div></div></footer></div><script color="0,0,255" opacity="0.5" zindex="-1" count="20" src="/lib/canvas-nest/canvas-nest.min.js"></script><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script>!function(){var e,t,o,n,r,a=document.getElementsByTagName("link");if(0<a.length)for(i=0;i<a.length;i++)"canonical"==a[i].rel.toLowerCase()&&a[i].href&&(e=a[i].href);t=e?e.split(":")[0]:window.location.protocol.split(":")[0],e=e||window.location.href,window,n=e,r=document.referrer,/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi.test(n)||(o="https"===String(t).toLowerCase()?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif",r?(o+="?r="+encodeURIComponent(document.referrer),n&&(o+="&l="+n)):n&&(o+="?l="+n),(new Image).src=o)}()</script><script>if (CONFIG.page.isPost) {
    wpac_init = window.wpac_init || [];
    wpac_init.push({
      widget: 'Rating',
      id    : ,
      el    : 'wpac-rating',
      color : 'fc6423'
    });
    (function() {
      if ('WIDGETPACK_LOADED' in window) return;
      WIDGETPACK_LOADED = true;
      var mc = document.createElement('script');
      mc.type = 'text/javascript';
      mc.async = true;
      mc.src = '//embed.widgetpack.com/widget.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(mc, s.nextSibling);
    })();
  }</script></body></html>